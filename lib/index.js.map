{"version":3,"sources":["../src/index.js"],"names":["Launch","superEnv","util","launchFile","generateSettings","process","env","command","alias","action","console","log","getVersion","init","then","result","catch","error","message","importCerts","cleanMeteorOutputDir","meteor","build","android","prepareApk","addFastfile","hockey","uploadAndroid","uploadIOS","removeFastfile","iTunes","uploadTestFlight","uploadAppStore","uploadAppStoreDesktop","option","opt","options","amount","google","uploadAPK","galaxy","deploy","parse","argv"],"mappings":"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","file":"index.js","sourcesContent":["\n\nimport vorpal from \"vorpal\";\n\nimport meteor from \"./meteor\";\nimport galaxy from \"./galaxy\";\nimport hockey from \"./hockey\";\nimport iTunes from \"./iTunes\";\nimport android from \"./android\";\n// import play from \"./play\";\nimport util from \"./util\";\nimport google from \"./google\";\n\nconst Launch = vorpal();\n\nlet superEnv;\nif (util.launchFile()) {\n  superEnv = util.generateSettings(process.env);\n}\n\nLaunch\n  .command(\"--version\", \"Ouputs version number\")\n  .alias(\"-v\")\n  .action(() => {\n    console.log(util.getVersion());\n  });\n\nLaunch\n  .command(\"init\", \"Generates launch.json file for environment vars\")\n  .action(() => {\n    util.init(superEnv)\n      .then(result => console.log(result))\n      .catch(error => console.log(error.message));\n  });\n\nLaunch\n  .command(\"import\", \"Import certificates\")\n  .action(() => {\n    util.importCerts(superEnv)\n      .catch(error => console.log(error));\n  });\n\nLaunch\n  .command(\"build\", \"Builds the Meteor app in the .build folder\")\n  .action(() => {\n    util.cleanMeteorOutputDir(superEnv)\n      .then(meteor.build(superEnv))\n      .catch(error => console.log(error));\n  });\n\nLaunch\n  .command(\"prepare\", \"Prepares the Android apk files\")\n  .action(() => {\n    android.prepareApk(superEnv)\n      .catch(error => console.log(error));\n  });\n\nLaunch\n  .command(\"hockey\", \"Deploy to Hockey\")\n  .action(() => {\n    util.addFastfile()\n      .then(() => android.prepareApk(superEnv))\n      .then(() => hockey.uploadAndroid(superEnv))\n      .then(() => hockey.uploadIOS(superEnv))\n      .then(() => util.removeFastfile())\n      .catch(error => console.log(error.message));\n  });\n\nLaunch\n  .command(\"testflight\", \"Deploy to TestFlight\")\n  .action(() => {\n    util.addFastfile()\n      .then(() => iTunes.uploadTestFlight(superEnv))\n      .then(() => util.removeFastfile())\n      .catch(error => console.log(error.message));\n  });\n\nLaunch\n  .command(\"appstore\", \"Deploy to iTunes App Store\")\n  .action(() => {\n    util.addFastfile()\n      .then(() => iTunes.uploadAppStore(superEnv))\n      .then(() => util.removeFastfile())\n      .catch(error => console.log(error.message));\n  });\n\nLaunch\n  .command(\"appstoreDesktop\", \"Deploy to App Store Connect\")\n  .action(() => {\n    util.addFastfile()\n      .then(() => iTunes.uploadAppStoreDesktop(superEnv))\n      .then(() => util.removeFastfile())\n      .catch(error => console.log(error.message));\n  }); \n\nLaunch\n  .command(\"playstore\", \"Deploy APK to Google Play Store\")\n  .option('-a, --amount <channel>', 'upload channel.')\n  .action((opt) => {\n    android.prepareApk(superEnv, opt.options.amount)\n      .then(() => util.addFastfile())\n      .then(() => google.uploadAPK(superEnv, opt.options.amount))\n      .then(() => util.removeFastfile())\n      .catch(error => console.log(error.message));\n  });\n\nLaunch\n  .command(\"production\", \"Deploy to iTunes and Play\")\n  .action(() => {\n    util.addFastfile()\n      .then(() => android.prepareApk(superEnv))\n      .then(() => google.uploadAPK(superEnv, 'production'))\n      .then(() => iTunes.uploadAppStore(superEnv))\n      .then(() => util.removeFastfile())\n      .catch(error => console.log(error.message));\n  });\n\nLaunch\n  .command(\"galaxy\", \"Deploy to Galaxy\")\n  .action(() => {\n    galaxy.deploy(superEnv)\n      .catch(error => console.log(error.message));\n  });\n\nLaunch\n  .parse(process.argv);\n"]}